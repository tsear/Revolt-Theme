document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".about-process-track");if(!e)return;const t=e.querySelectorAll(".about-node");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(t=>{t!==e&&t.classList.remove("active")}),e.classList.toggle("active")})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".tech-spec-track");if(!e)return;const t=e.querySelectorAll(".about-node");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(t=>{t!==e&&t.classList.remove("active")}),e.classList.toggle("active")})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("timeline-loading"),t=document.getElementById("story-chapters"),n=document.getElementById("timeline-fallback"),o={Foundation:{period:"April 2025",philosophy:"Rebellion begins with a single commit.",story:"Started from zero. No page builders, no templates, no shortcuts. Built a WordPress theme that refuses to be boring.",keywords:["Initial import","foundation","initial"],color:"#FCB900"},Evolution:{period:"May 2025",philosophy:"Perfection through iteration.",story:"Rapid development cycles. Testing, breaking, improving. Each commit brought us closer to something that actually works.",keywords:["v1.2","update","tweak","fix"],color:"#FFB300"},Business:{period:"July 2025",philosophy:"Great work needs to be found.",story:"SEO strategy deployment. Service pages that convert. Making sure the rebellion reaches the right people.",keywords:["SEO","service","CTA","subpage","brand"],color:"#FFA000"},Professional:{period:"Present",philosophy:"Polish without compromise.",story:"Navigation perfected. Mobile optimized. Every interaction considered. Ready for serious work.",keywords:["dropdown","navigation","mobile","optimization"],color:"#FF8F00"}};async function r(){try{const e=await fetch("https://api.github.com/repos/tsear/Revolt-Theme/commits?per_page=50");if(!e.ok)throw new Error(`API error: ${e.status}`);return function(e){const t={};return Object.keys(o).forEach(e=>{t[e]={...o[e],commits:[]}}),e.forEach(e=>{const n=e.commit.message.toLowerCase(),r=new Date(e.commit.committer.date);if("x"===n||n.includes("merge pull request"))return;let s=!1;Object.entries(o).forEach(([o,r])=>{if(s)return;r.keywords.some(e=>n.includes(e.toLowerCase()))&&(t[o].commits.push(e),s=!0)}),s||(r>=new Date("2025-07-01")?t.Professional.commits.push(e):r>=new Date("2025-06-01")?t.Business.commits.push(e):r>=new Date("2025-05-01")?t.Evolution.commits.push(e):t.Foundation.commits.push(e))}),t}(await e.json())}catch(e){return console.error("Error fetching commits:",e),null}}function s(e){const t=new Date(e.commit.committer.date),n=function(e){const t=new Date,n=Math.abs(t-e),o=Math.floor(n/864e5);return o<7?`${o} days ago`:o<30?`${Math.floor(o/7)} weeks ago`:o<365?`${Math.floor(o/30)} months ago`:e.toLocaleDateString("en-US",{month:"short",year:"numeric"})}(t);return{sha:e.sha.substring(0,7),message:e.commit.message.split("\n")[0],timeAgo:n,date:t}}!async function(){e.style.display="block",t.style.display="none",n.style.display="none";const o=await r();o?(!function(e){const n=Object.entries(e).map(([e,t])=>{const n=t.commits.length,o=t.commits.slice(0,3).map(e=>{const{sha:t,message:n,timeAgo:o}=s(e);return`\n                    <div class="commit-item" data-sha="${e.sha}">\n                        <div class="commit-meta">\n                            <span class="commit-sha">${t}</span>\n                            <span class="commit-time">${o}</span>\n                        </div>\n                        <div class="commit-message">${n}</div>\n                    </div>\n                `}).join("");return`\n                <div class="story-chapter" data-phase="${e}">\n                    <div class="chapter-header" style="border-left-color: ${t.color}">\n                        <div class="chapter-meta">\n                            <h3 class="chapter-title">${e}</h3>\n                            <div class="chapter-period">${t.period}</div>\n                        </div>\n                        <div class="chapter-philosophy">"${t.philosophy}"</div>\n                    </div>\n                    \n                    <div class="chapter-content">\n                        <div class="chapter-story">\n                            <p>${t.story}</p>\n                        </div>\n                        \n                        <div class="chapter-commits">\n                            <div class="commits-header">\n                                <span class="commits-label">Key Commits</span>\n                                <span class="commits-count">${n} total</span>\n                            </div>\n                            <div class="commits-list">\n                                ${o}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `}).join("");t.innerHTML=n,t.addEventListener("click",e=>{const t=e.target.closest(".commit-item");if(t){const e=t.dataset.sha;window.open(`https://github.com/tsear/Revolt-Theme/commit/${e}`,"_blank")}})}(o),e.style.display="none",t.style.display="block"):(e.style.display="none",n.style.display="block")}()}),document.addEventListener("DOMContentLoaded",function(){if(window.asciiScrollInitialized)return void console.log("âš ï¸ ASCII scroll already initialized, skipping");window.asciiScrollInitialized=!0,console.log("ðŸŽ¯ ASCII scroll initializing with lazy loading...");const e=document.querySelectorAll(".barbed-wire-divider");if(0===e.length)return void console.warn("âŒ No .barbed-wire-divider elements found");console.log("âœ… Found",e.length,"ASCII dividers - setting up observers");const t=window.location.origin+"/wp-content/themes/revolt-theme",n=t+"/assets/images/ascii-art.txt",o=t+"/assets/images/ascii-art-mirrored.txt";console.log("ðŸ“ ASCII files ready at:",n);const r=new Set;const s=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const i=t.target,a=Array.from(e).indexOf(i);console.log(`ðŸ‘€ Divider ${a+1} approaching viewport, initializing...`),function(e,t){r.has(e)?console.log(`âš ï¸ Divider ${t+1} already initialized, skipping`):(r.add(e),console.log(`ðŸš€ Initializing divider ${t+1}...`),Promise.all([fetch(n).then(e=>{if(!e.ok)throw new Error("Failed to load original ASCII");return e.text()}),fetch(o).then(e=>{if(!e.ok)throw new Error("Failed to load mirrored ASCII");return e.text()})]).then(([n,o])=>{if(console.log(`âœ… ASCII files loaded for divider ${t+1}`),e.querySelector(".ascii-container"))return void console.log(`âš ï¸ ASCII already exists for divider ${t+1}, skipping`);const r=document.createElement("div");r.className="ascii-container",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.height="160px",r.style.whiteSpace="pre",r.style.fontFamily='"Courier New", monospace',r.style.fontSize="8px",r.style.lineHeight="9px",r.style.color="rgba(128, 128, 128, 0.8)",r.style.pointerEvents="none",r.style.overflow="hidden",r.style.width="600%";const s=document.createElement("div");s.textContent=n,s.style.position="absolute",s.style.left="0",s.style.top="0",s.style.whiteSpace="pre";const i=document.createElement("div");i.textContent=o,i.style.position="absolute",i.style.top="0",i.style.whiteSpace="pre",r.appendChild(s),r.appendChild(i),e.appendChild(r),setTimeout(()=>{const e=s.offsetWidth;i.style.left=e+"px",console.log(`ðŸ“ Divider ${t+1} positioned: original width = ${e}px`)},10);let a=0;!function e(){a-=.5;const t=s.offsetWidth||1e3;Math.abs(a)>=t&&(a=0),r.style.transform=`translateX(${a}px)`,requestAnimationFrame(e)}(),console.log(`ðŸŽ¬ Animation started for divider ${t+1}`)}).catch(e=>{console.error(`âŒ Failed to load ASCII files for divider ${t+1}:`,e)}))}(i,a),s.unobserve(i)}})},{rootMargin:"500px 0px 500px 0px",threshold:0});e.forEach(e=>{s.observe(e)}),console.log("âœ… ASCII scroll observers set up - dividers will initialize on approach")}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".about-process-track");if(!e)return;const t=e.querySelectorAll(".about-node");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(t=>{t!==e&&t.classList.remove("active")}),e.classList.toggle("active")})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".tech-spec-track");if(!e)return;const t=e.querySelectorAll(".about-node");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(t=>{t!==e&&t.classList.remove("active")}),e.classList.toggle("active")})})}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("timeline-loading"),t=document.getElementById("story-chapters"),n=document.getElementById("timeline-fallback"),o={Foundation:{period:"April 2025",philosophy:"Rebellion begins with a single commit.",story:"Started from zero. No page builders, no templates, no shortcuts. Built a WordPress theme that refuses to be boring.",keywords:["Initial import","foundation","initial"],color:"#FCB900"},Evolution:{period:"May 2025",philosophy:"Perfection through iteration.",story:"Rapid development cycles. Testing, breaking, improving. Each commit brought us closer to something that actually works.",keywords:["v1.2","update","tweak","fix"],color:"#FFB300"},Business:{period:"July 2025",philosophy:"Great work needs to be found.",story:"SEO strategy deployment. Service pages that convert. Making sure the rebellion reaches the right people.",keywords:["SEO","service","CTA","subpage","brand"],color:"#FFA000"},Professional:{period:"Present",philosophy:"Polish without compromise.",story:"Navigation perfected. Mobile optimized. Every interaction considered. Ready for serious work.",keywords:["dropdown","navigation","mobile","optimization"],color:"#FF8F00"}};async function r(){try{const e=await fetch("https://api.github.com/repos/tsear/Revolt-Theme/commits?per_page=50");if(!e.ok)throw new Error(`API error: ${e.status}`);return function(e){const t={};return Object.keys(o).forEach(e=>{t[e]={...o[e],commits:[]}}),e.forEach(e=>{const n=e.commit.message.toLowerCase(),r=new Date(e.commit.committer.date);if("x"===n||n.includes("merge pull request"))return;let s=!1;Object.entries(o).forEach(([o,r])=>{s||r.keywords.some(e=>n.includes(e.toLowerCase()))&&(t[o].commits.push(e),s=!0)}),s||(r>=new Date("2025-07-01")?t.Professional.commits.push(e):r>=new Date("2025-06-01")?t.Business.commits.push(e):r>=new Date("2025-05-01")?t.Evolution.commits.push(e):t.Foundation.commits.push(e))}),t}(await e.json())}catch(e){return console.error("Error fetching commits:",e),null}}!async function(){e.style.display="block",t.style.display="none",n.style.display="none";const o=await r();o?(function(e){const n=Object.entries(e).map(([e,t])=>{const n=t.commits.length,o=t.commits.slice(0,3).map(e=>{const{sha:t,message:n,timeAgo:o}=function(e){const t=new Date(e.commit.committer.date),n=function(e){const t=new Date,n=Math.abs(t-e),o=Math.floor(n/864e5);return o<7?`${o} days ago`:o<30?`${Math.floor(o/7)} weeks ago`:o<365?`${Math.floor(o/30)} months ago`:e.toLocaleDateString("en-US",{month:"short",year:"numeric"})}(t);return{sha:e.sha.substring(0,7),message:e.commit.message.split("\n")[0],timeAgo:n,date:t}}(e);return`\n                    <div class="commit-item" data-sha="${e.sha}">\n                        <div class="commit-meta">\n                            <span class="commit-sha">${t}</span>\n                            <span class="commit-time">${o}</span>\n                        </div>\n                        <div class="commit-message">${n}</div>\n                    </div>\n                `}).join("");return`\n                <div class="story-chapter" data-phase="${e}">\n                    <div class="chapter-header" style="border-left-color: ${t.color}">\n                        <div class="chapter-meta">\n                            <h3 class="chapter-title">${e}</h3>\n                            <div class="chapter-period">${t.period}</div>\n                        </div>\n                        <div class="chapter-philosophy">"${t.philosophy}"</div>\n                    </div>\n                    \n                    <div class="chapter-content">\n                        <div class="chapter-story">\n                            <p>${t.story}</p>\n                        </div>\n                        \n                        <div class="chapter-commits">\n                            <div class="commits-header">\n                                <span class="commits-label">Key Commits</span>\n                                <span class="commits-count">${n} total</span>\n                            </div>\n                            <div class="commits-list">\n                                ${o}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `}).join("");t.innerHTML=n,t.addEventListener("click",e=>{const t=e.target.closest(".commit-item");if(t){const e=t.dataset.sha;window.open(`https://github.com/tsear/Revolt-Theme/commit/${e}`,"_blank")}})}(o),e.style.display="none",t.style.display="block"):(e.style.display="none",n.style.display="block")}()}),document.addEventListener("DOMContentLoaded",function(){if(window.asciiScrollInitialized)return void console.log("âš ï¸ ASCII scroll already initialized, skipping");window.asciiScrollInitialized=!0,console.log("ðŸŽ¯ ASCII scroll initializing with lazy loading...");const e=document.querySelectorAll(".barbed-wire-divider");if(0===e.length)return void console.warn("âŒ No .barbed-wire-divider elements found");console.log("âœ… Found",e.length,"ASCII dividers - setting up observers");const t=window.location.origin+"/wp-content/themes/revolt-theme",n=t+"/assets/images/ascii-art.txt",o=t+"/assets/images/ascii-art-mirrored.txt";console.log("ðŸ“ ASCII files ready at:",n);const r=new Set,s=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const i=t.target,a=Array.from(e).indexOf(i);console.log(`ðŸ‘€ Divider ${a+1} approaching viewport, initializing...`),function(e,t){r.has(e)?console.log(`âš ï¸ Divider ${t+1} already initialized, skipping`):(r.add(e),console.log(`ðŸš€ Initializing divider ${t+1}...`),Promise.all([fetch(n).then(e=>{if(!e.ok)throw new Error("Failed to load original ASCII");return e.text()}),fetch(o).then(e=>{if(!e.ok)throw new Error("Failed to load mirrored ASCII");return e.text()})]).then(([n,o])=>{if(console.log(`âœ… ASCII files loaded for divider ${t+1}`),e.querySelector(".ascii-container"))return void console.log(`âš ï¸ ASCII already exists for divider ${t+1}, skipping`);const r=document.createElement("div");r.className="ascii-container",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.height="160px",r.style.whiteSpace="pre",r.style.fontFamily='"Courier New", monospace',r.style.fontSize="8px",r.style.lineHeight="9px",r.style.color="rgba(128, 128, 128, 0.8)",r.style.pointerEvents="none",r.style.overflow="hidden",r.style.width="600%";const s=document.createElement("div");s.textContent=n,s.style.position="absolute",s.style.left="0",s.style.top="0",s.style.whiteSpace="pre";const i=document.createElement("div");i.textContent=o,i.style.position="absolute",i.style.top="0",i.style.whiteSpace="pre",r.appendChild(s),r.appendChild(i),e.appendChild(r),setTimeout(()=>{const e=s.offsetWidth;i.style.left=e+"px",console.log(`ðŸ“ Divider ${t+1} positioned: original width = ${e}px`)},10);let a=0;!function e(){a-=.5;const t=s.offsetWidth||1e3;Math.abs(a)>=t&&(a=0),r.style.transform=`translateX(${a}px)`,requestAnimationFrame(e)}(),console.log(`ðŸŽ¬ Animation started for divider ${t+1}`)}).catch(e=>{console.error(`âŒ Failed to load ASCII files for divider ${t+1}:`,e)}))}(i,a),s.unobserve(i)}})},{rootMargin:"500px 0px 500px 0px",threshold:0});e.forEach(e=>{s.observe(e)}),console.log("âœ… ASCII scroll observers set up - dividers will initialize on approach")}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".contact-node");e.forEach(t=>{t.addEventListener("click",n=>{if(n.target.closest(".node-form"))return;const o=t.classList.contains("active");e.forEach(e=>e.classList.remove("active")),o||(t.classList.add("active"),t.scrollIntoView({behavior:"smooth",block:"center"}))})})}),document.addEventListener("DOMContentLoaded",function(){function e(){return window.innerWidth<=768}function t(t){if(!e())return;const n=t.target.closest(".dropdown"),o=t.target.closest(".dropdown-toggle");if(o&&n){if(n.classList.contains("mobile-active"))return!0;{t.preventDefault(),document.querySelectorAll(".dropdown.mobile-active").forEach(e=>{e!==n&&e.classList.remove("mobile-active")});const e=n.querySelector(".dropdown-menu"),r=o.getBoundingClientRect();e.style.left=r.left+r.width/2+"px",e.style.transform="translateX(-50%)",n.classList.add("mobile-active")}}}document.addEventListener("click",t,!0),document.addEventListener("click",function(t){e()&&(t.target.closest(".dropdown")||document.querySelectorAll(".dropdown.mobile-active").forEach(e=>{e.classList.remove("mobile-active")}))}),window.addEventListener("resize",function(){e()||document.querySelectorAll(".dropdown.mobile-active").forEach(e=>{e.classList.remove("mobile-active")})}),document.querySelectorAll(".dropdown-toggle").forEach(e=>{e.addEventListener("click",function(e){t(e)})})});class TVGrain{constructor(){this.container=document.getElementById("hero-canvas-container"),this.container?"undefined"!=typeof THREE?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!1}),this.init(),this.createTVGrain(),this.animate(),this.handleResize()):console.error("THREE.js not loaded"):console.error("Container not found")}init(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(0,0),this.container.appendChild(this.renderer.domElement),this.camera.position.z=1}createTVGrain(){const e=new THREE.PlaneGeometry(10,7.5),t=new THREE.ShaderMaterial({uniforms:{time:{value:0},resolution:{value:new THREE.Vector2(window.innerWidth,window.innerHeight)}},vertexShader:"\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n            ",fragmentShader:"\n                uniform float time;\n                uniform vec2 resolution;\n                varying vec2 vUv;\n                \n                float random(vec2 st) {\n                    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);\n                }\n                \n                void main() {\n                    vec2 st = vUv;\n                    \n                    // Scale up for fine grain density like CRT TV\n                    vec2 grainCoord = st * resolution * 0.5;\n                    \n                    // Add time for TV static animation\n                    grainCoord += time * 10.0;\n                    \n                    // Multiple noise layers for realistic TV grain\n                    float grain1 = random(grainCoord);\n                    float grain2 = random(grainCoord * 2.1 + time * 5.0);\n                    float grain3 = random(grainCoord * 4.3 - time * 3.0);\n                    \n                    // Combine grain layers\n                    float grain = grain1 * 0.6 + grain2 * 0.3 + grain3 * 0.1;\n                    \n                    // TV scanlines effect\n                    float scanline = sin(st.y * resolution.y * 2.0) * 0.04 + 0.96;\n                    grain *= scanline;\n                    \n                    // Make it more contrasty like old TV\n                    grain = smoothstep(0.3, 0.7, grain);\n                    \n                    // Dark grain on white background\n                    gl_FragColor = vec4(0.0, 0.0, 0.0, grain * 0.15);\n                }\n            ",transparent:!0,depthTest:!1});this.grainMesh=new THREE.Mesh(e,t),this.scene.add(this.grainMesh)}animate(){requestAnimationFrame(()=>this.animate());const e=.001*Date.now();this.grainMesh&&(this.grainMesh.material.uniforms.time.value=e),this.renderer.render(this.scene,this.camera)}handleResize(){window.addEventListener("resize",()=>{this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.grainMesh&&this.grainMesh.material.uniforms.resolution.value.set(window.innerWidth,window.innerHeight)})}}document.addEventListener("DOMContentLoaded",()=>{"undefined"!=typeof THREE&&new TVGrain}),document.addEventListener("DOMContentLoaded",function(){var e=["Everyone","Startups","Entrepreneurs","Bloggers","Musicians","Wannabes","Promoters","Foodies","Healthcare","Individuals"],t=0,n=document.getElementById("rotating-word");n&&setInterval(function(){n.style.opacity=0,setTimeout(function(){t=(t+1)%e.length,n.textContent=e[t],n.style.opacity=1},500)},3e3)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".services-loop__video"),t=document.querySelectorAll(".services-loop__zone"),n=document.querySelectorAll(".dashboard-tile"),o=document.querySelector(".dashboard-grid"),r=`${window.REVOLT_THEME_URL}/assets/data/hud_coords.json`;function s(){const e=o.offsetWidth,t=n[0].offsetWidth+32,r=Math.floor(e/t),s=n.length,i=s%r||r;if(n.forEach(e=>e.classList.remove("last-row")),i<r)for(let e=s-i;e<s;e++)n[e].classList.add("last-row")}fetch(r).then(e=>{if(!e.ok)throw new Error(`HUD JSON failed (${e.status})`);return e.json()}).then(n=>{const o={handlebars:"HUD_Handlebars",rear:"HUD_RearAxle",front:"HUD_FrontAxle",engine:"HUD_Engine",exhaust:"HUD_Exhaust"};requestAnimationFrame(function r(){const s=e.currentTime,i=Math.floor(24*s),a=n[i.toString()];a&&t.forEach(e=>{const t=e.dataset.zone,n=a[o[t]];n&&(e.style.left=100*n.x+"%",e.style.top=100*n.y+"%",e.style.transform="translate(-50%, -50%)")}),requestAnimationFrame(r)})}).catch(e=>{console.error("âŒ HUD JSON load failed:",e)}),t.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.zone;var o;o=t,n.forEach(e=>{if(e.dataset.zone===o){e.classList.toggle("active");const t=e.getBoundingClientRect().top+window.pageYOffset,n=.5*window.innerHeight;window.scrollTo({top:t-n,behavior:"smooth"})}else e.classList.remove("active")})})}),n.forEach(e=>{e.addEventListener("click",()=>{const t=e.classList.contains("active"),o=e.getAttribute("data-redirect");if(window.innerWidth<=768){if(t&&o)return void(window.location.href=o);{n.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.getBoundingClientRect().top+window.pageYOffset,o=.5*window.innerHeight;window.scrollTo({top:t-o,behavior:"smooth"})}}else o&&(window.location.href=o)})}),window.addEventListener("resize",s),s()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("solution-builder-modal");if(!e)return;function t(){e.classList.add("tw-hidden"),e.classList.remove("tw-flex"),document.body.style.overflow=""}document.querySelectorAll('[data-modal-target="solution-builder-modal"]').forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),e.classList.remove("tw-hidden"),e.classList.add("tw-flex"),document.body.style.overflow="hidden",n=1,e.querySelectorAll('input[type="radio"]').forEach(e=>{e.checked="wordpress"===e.value}),e.querySelectorAll("#feature-inputs input, #service-inputs input").forEach(e=>{e.checked=!1}),p.classList.add("tw-hidden"),y.reset(),f(),v(),b()})}),e.querySelectorAll('[data-modal-hide="solution-builder-modal"]').forEach(e=>{e.addEventListener("click",t)}),e.addEventListener("click",n=>{n.target===e&&t()}),document.addEventListener("keydown",n=>{"Escape"!==n.key||e.classList.contains("tw-hidden")||t()});let n=1;const o=4,r={base:{landing:800,simple:1500,wordpress:2500,ecommerce:4e3},features:{forms:150,blog:300,newsletter:100,gallery:250,booking:350,membership:500,crm:300,"analytics-setup":150,chat:100},services:{hosting:29,maintenance:99,seo:199,content:149,social:299,support:149}},s={base:{landing:{icon:"ðŸš€",name:"Landing Page"},simple:{icon:"ðŸ“„",name:"Simple Site"},wordpress:{icon:"ðŸŒ",name:"Full Website"},ecommerce:{icon:"ðŸ›’",name:"E-commerce"}}},i={landing:{features:["forms","newsletter","analytics-setup"],services:["hosting","seo"]},simple:{features:["forms","blog","newsletter"],services:["hosting","maintenance","seo"]},wordpress:{features:["forms","blog","gallery","analytics-setup"],services:["hosting","maintenance","seo"]},ecommerce:{features:["forms","newsletter","analytics-setup","chat"],services:["hosting","maintenance","seo","support"]}},a=e.querySelectorAll(".step-content"),l=[1,2,3,4].map(t=>e.querySelector(`#dot-${t}`)),c=[1,2,3].map(t=>e.querySelector(`#line-${t}`)),d=e.querySelector("#btn-next"),u=e.querySelector("#btn-back"),m=e.querySelector("#btn-skip"),h=e.querySelector("#btn-submit"),p=e.querySelector("#success-message"),y=e.querySelector("#solution-builder-form");function w(){e.querySelectorAll(".base-option").forEach(e=>{const t=e.querySelector("input"),n=e.querySelector("div"),o=n.querySelector("span:first-child");t.checked?(n.classList.remove("tw-border-gray-200"),n.classList.add("tw-border-revolt-yellow","tw-bg-yellow-50"),o.style.display="flex"):(n.classList.add("tw-border-gray-200"),n.classList.remove("tw-border-revolt-yellow","tw-bg-yellow-50"),o.style.display="none")})}function g(e,t,n,o){const r=e.dataset.icon,s=e.dataset.label,i=e.value,a=e.checked,l=document.createElement("div");l.className="option-card tw-cursor-pointer "+(n?"":"tw-pointer-events-none"),l.dataset.value=i;const c=a?"tw-border-revolt-yellow":"tw-border-gray-200 hover:tw-border-gray-300",d=a?"tw-bg-yellow-50":"",u=n?"":"tw-opacity-40";return l.innerHTML=`\n      <div class="tw-relative tw-flex tw-flex-col tw-items-center tw-p-4 tw-border-2 tw-rounded-lg tw-transition-all ${c} ${d} ${u}">\n        <span class="check-mark tw-absolute tw-top-2 tw-right-2 tw-w-5 tw-h-5 tw-bg-revolt-yellow tw-rounded-full tw-items-center tw-justify-center tw-text-xs tw-font-bold" style="display: ${a?"flex":"none"}">âœ“</span>\n        <span class="rec-badge tw-absolute tw--top-2 tw--right-2 tw-bg-revolt-yellow tw-text-black tw-text-[10px] tw-px-2 tw-py-0.5 tw-rounded-full tw-font-bold" style="display: ${t&&n&&!a?"block":"none"}">â˜…</span>\n        <span class="tw-text-3xl tw-mb-2">${r}</span>\n        <span class="tw-font-medium tw-text-sm tw-text-black">${s}</span>\n      </div>\n    `,l.addEventListener("click",()=>{n&&(e.checked=!e.checked,"features"===o?f():v())}),l}function f(){const t=e.querySelector('input[name="base_type"]:checked')?.value||"wordpress",n=i[t].features,o=e.querySelectorAll("#feature-inputs input"),r=e.querySelector("#features-recommended-grid"),s=e.querySelector("#features-available-grid"),a=e.querySelector("#features-unavailable-grid"),l=e.querySelector("#features-unavailable");r.innerHTML="",s.innerHTML="",a.innerHTML="";let c=!1,d=!1,u=!1;o.forEach(e=>{const o=(e.dataset.available?.split(",")||[]).includes(t),i=n.includes(e.value),l=g(e,i,o,"features");o?i?(r.appendChild(l),c=!0):(s.appendChild(l),d=!0):(a.appendChild(l),u=!0)}),e.querySelector("#features-recommended").classList.toggle("tw-hidden",!c),e.querySelector("#features-available").classList.toggle("tw-hidden",!d),l.classList.toggle("tw-hidden",!u)}function v(){const t=e.querySelector('input[name="base_type"]:checked')?.value||"wordpress",n=i[t].services,o=e.querySelectorAll("#service-inputs input"),r=e.querySelector("#services-recommended-grid"),s=e.querySelector("#services-available-grid"),a=e.querySelector("#services-unavailable-grid"),l=e.querySelector("#services-unavailable");r.innerHTML="",s.innerHTML="",a.innerHTML="";let c=!1,d=!1,u=!1;o.forEach(e=>{const o=(e.dataset.available?.split(",")||[]).includes(t),i=n.includes(e.value),l=g(e,i,o,"services");o?i?(r.appendChild(l),c=!0):(s.appendChild(l),d=!0):(a.appendChild(l),u=!0)}),e.querySelector("#services-recommended").classList.toggle("tw-hidden",!c),e.querySelector("#services-available").classList.toggle("tw-hidden",!d),l.classList.toggle("tw-hidden",!u)}function b(){a.forEach((e,t)=>{e.classList.toggle("tw-hidden",t+1!==n),e.classList.toggle("tw-block",t+1===n)}),l.forEach((e,t)=>{e.classList.toggle("tw-bg-revolt-yellow",t+1<=n),e.classList.toggle("tw-bg-gray-300",t+1>n)}),c.forEach((e,t)=>{e.classList.toggle("tw-bg-revolt-yellow",t+1<n),e.classList.toggle("tw-bg-gray-300",t+1>=n)}),u.classList.toggle("tw-hidden",1===n),m.classList.toggle("tw-hidden",1===n||4===n),d.classList.toggle("tw-hidden",n===o),h.classList.toggle("tw-hidden",n!==o),2===n&&f(),3===n&&v(),4===n&&function(){const t=E(),n=S(),o=s.base[t.base];e.querySelector("#summary-base-icon").textContent=o.icon,e.querySelector("#summary-base-name").textContent=o.name;const r=e.querySelector("#summary-features"),i=e.querySelectorAll("#feature-inputs input"),a={};i.forEach(e=>a[e.value]={icon:e.dataset.icon,label:e.dataset.label}),r.innerHTML=t.features.length>0?t.features.map(e=>`<span class="tw-inline-flex tw-items-center tw-gap-1 tw-px-3 tw-py-1 tw-bg-white tw-border tw-border-gray-200 tw-rounded-full tw-text-xs"><span>${a[e]?.icon}</span> ${a[e]?.label}</span>`).join(""):'<span class="tw-text-xs tw-text-gray-400">No extra features</span>';const l=e.querySelector("#summary-services"),c=e.querySelectorAll("#service-inputs input"),d={};c.forEach(e=>d[e.value]={icon:e.dataset.icon,label:e.dataset.label}),l.innerHTML=t.services.length>0?t.services.map(e=>`<span class="tw-inline-flex tw-items-center tw-gap-1 tw-px-3 tw-py-1 tw-bg-revolt-yellow/20 tw-border tw-border-revolt-yellow tw-rounded-full tw-text-xs"><span>${d[e]?.icon}</span> ${d[e]?.label}</span>`).join(""):'<span class="tw-text-xs tw-text-gray-400">No monthly services</span>',e.querySelector("#price-total").textContent=`$${n.total.toLocaleString()}`;const u=e.querySelector("#monthly-row");n.monthlyTotal>0?(u.classList.remove("tw-hidden"),u.classList.add("tw-flex"),e.querySelector("#price-monthly").textContent=`$${n.monthlyTotal}/mo`):u.classList.add("tw-hidden")}()}function E(){return{base:e.querySelector('input[name="base_type"]:checked')?.value||"wordpress",features:Array.from(e.querySelectorAll("#feature-inputs input:checked")).map(e=>e.value),services:Array.from(e.querySelectorAll("#service-inputs input:checked")).map(e=>e.value)}}function S(){const e=E(),t=r.base[e.base]||0,n=e.features.reduce((e,t)=>e+(r.features[t]||0),0);return{basePrice:t,featuresTotal:n,monthlyTotal:e.services.reduce((e,t)=>e+(r.services[t]||0),0),total:t+n}}d.addEventListener("click",()=>{n<o&&(n++,b())}),u.addEventListener("click",()=>{n>1&&(n--,b())}),m.addEventListener("click",()=>{n<o&&(n++,b())}),h.addEventListener("click",async function(){const t=y.querySelector('input[name="name"]'),n=y.querySelector('input[name="email"]');if(!t.value.trim()||!n.value.trim())return t.reportValidity(),void n.reportValidity();const o=E(),r=S(),i=s.base[o.base],a=e.querySelectorAll("#feature-inputs input"),l={};a.forEach(e=>l[e.value]=e.dataset.label);const c=e.querySelectorAll("#service-inputs input"),d={};c.forEach(e=>d[e.value]=e.dataset.label),y.querySelector("#form-configuration").value=JSON.stringify(o,null,2),y.querySelector("#form-total-price").value=`$${r.total} + $${r.monthlyTotal}/mo`;const u=new FormData(y),m=`\n== SOLUTION BUILDER REQUEST ==\n\nBASE: ${i.name}\nPROJECT COST: $${r.total}\n\nFEATURES:\n${o.features.length>0?o.features.map(e=>`  â€¢ ${l[e]}`).join("\n"):"  (none selected)"}\n\nMONTHLY SERVICES:\n${o.services.length>0?o.services.map(e=>`  â€¢ ${d[e]}`).join("\n"):"  (none selected)"}\n${r.monthlyTotal>0?`\nMONTHLY TOTAL: $${r.monthlyTotal}/mo`:""}\n\n---\nName: ${u.get("name")}\nEmail: ${u.get("email")}\nMessage: ${u.get("message")||"(none)"}\n    `;try{if(h.textContent="Sending...",h.disabled=!0,!(await fetch("https://formspree.io/f/mjkyzqvg",{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({name:u.get("name"),email:u.get("email"),message:m,_subject:`Solution Builder: ${i.name} - $${r.total}`})})).ok)throw new Error("Submission failed");p.classList.remove("tw-hidden")}catch(e){console.error("Submission error:",e),alert("There was an error. Please try again or contact us directly."),h.textContent="Get My Quote â†’",h.disabled=!1}}),e.querySelectorAll('input[name="base_type"]').forEach(e=>{e.addEventListener("change",()=>{w(),f(),v()})}),w(),f(),v(),b()}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("startHereForm"),t=document.getElementById("startHereResponse");e&&t&&e.addEventListener("submit",function(n){n.preventDefault();const o=new FormData(e);let r=`\nHi, Iâ€™m ${o.get("name")} and I ${o.get("action")} ${o.get("what")}.\n\nLately, Iâ€™ve been trying to ${o.get("trying")}, but I'm blocked by ${o.get("blocked")}.\n\nYou can reach me at ${o.get("email")}.\n      `;fetch("https://formspree.io/f/mrbprrpv",{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({message:r,email:o.get("email")})}).then(n=>{n.ok?(e.style.display="none",t.style.display="block"):(t.innerHTML="<p>Sorry, there was an error submitting the form. Please try again.</p>",t.style.display="block")}).catch(e=>{console.error("Form submission error:",e),t.innerHTML="<p>Sorry, a network error occurred. Please try again.</p>",t.style.display="block"})})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".expect-group").forEach(e=>{const t=e.querySelectorAll(".proof-item");new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),t.forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},100*t)}))})},{threshold:.3}).observe(e),t.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(10px)",e.style.transition="opacity 0.3s ease, transform 0.3s ease"})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".contact-node");e.forEach(t=>{t.addEventListener("click",n=>{if(n.target.closest(".node-form"))return;const o=t.classList.contains("active");e.forEach(e=>e.classList.remove("active")),o||(t.classList.add("active"),t.scrollIntoView({behavior:"smooth",block:"center"}))})})}),document.addEventListener("DOMContentLoaded",function(){function e(){return window.innerWidth<=768}function t(t){if(!e())return;const n=t.target.closest(".dropdown"),o=t.target.closest(".dropdown-toggle");if(o&&n){if(n.classList.contains("mobile-active"))return!0;{t.preventDefault(),document.querySelectorAll(".dropdown.mobile-active").forEach(e=>{e!==n&&e.classList.remove("mobile-active")});const e=n.querySelector(".dropdown-menu"),r=o.getBoundingClientRect();e.style.left=r.left+r.width/2+"px",e.style.transform="translateX(-50%)",n.classList.add("mobile-active")}}}document.addEventListener("click",t,!0),document.addEventListener("click",function(t){e()&&(t.target.closest(".dropdown")||document.querySelectorAll(".dropdown.mobile-active").forEach(e=>{e.classList.remove("mobile-active")}))}),window.addEventListener("resize",function(){e()||document.querySelectorAll(".dropdown.mobile-active").forEach(e=>{e.classList.remove("mobile-active")})});document.querySelectorAll(".dropdown-toggle").forEach(e=>{e.addEventListener("click",function(e){t(e)})})});class TVGrain{constructor(){this.container=document.getElementById("hero-canvas-container"),this.container?"undefined"!=typeof THREE?(this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!1}),this.init(),this.createTVGrain(),this.animate(),this.handleResize()):console.error("THREE.js not loaded"):console.error("Container not found")}init(){this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(0,0),this.container.appendChild(this.renderer.domElement),this.camera.position.z=1}createTVGrain(){const e=new THREE.PlaneGeometry(10,7.5),t=new THREE.ShaderMaterial({uniforms:{time:{value:0},resolution:{value:new THREE.Vector2(window.innerWidth,window.innerHeight)}},vertexShader:"\n                varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n                }\n            ",fragmentShader:"\n                uniform float time;\n                uniform vec2 resolution;\n                varying vec2 vUv;\n                \n                float random(vec2 st) {\n                    return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453);\n                }\n                \n                void main() {\n                    vec2 st = vUv;\n                    \n                    // Scale up for fine grain density like CRT TV\n                    vec2 grainCoord = st * resolution * 0.5;\n                    \n                    // Add time for TV static animation\n                    grainCoord += time * 10.0;\n                    \n                    // Multiple noise layers for realistic TV grain\n                    float grain1 = random(grainCoord);\n                    float grain2 = random(grainCoord * 2.1 + time * 5.0);\n                    float grain3 = random(grainCoord * 4.3 - time * 3.0);\n                    \n                    // Combine grain layers\n                    float grain = grain1 * 0.6 + grain2 * 0.3 + grain3 * 0.1;\n                    \n                    // TV scanlines effect\n                    float scanline = sin(st.y * resolution.y * 2.0) * 0.04 + 0.96;\n                    grain *= scanline;\n                    \n                    // Make it more contrasty like old TV\n                    grain = smoothstep(0.3, 0.7, grain);\n                    \n                    // Dark grain on white background\n                    gl_FragColor = vec4(0.0, 0.0, 0.0, grain * 0.15);\n                }\n            ",transparent:!0,depthTest:!1});this.grainMesh=new THREE.Mesh(e,t),this.scene.add(this.grainMesh)}animate(){requestAnimationFrame(()=>this.animate());const e=.001*Date.now();this.grainMesh&&(this.grainMesh.material.uniforms.time.value=e),this.renderer.render(this.scene,this.camera)}handleResize(){window.addEventListener("resize",()=>{this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.grainMesh&&this.grainMesh.material.uniforms.resolution.value.set(window.innerWidth,window.innerHeight)})}}document.addEventListener("DOMContentLoaded",()=>{"undefined"!=typeof THREE&&new TVGrain}),document.addEventListener("DOMContentLoaded",function(){var e=["Everyone","Startups","Entrepreneurs","Bloggers","Musicians","Wannabes","Promoters","Foodies","Healthcare","Individuals"],t=0,n=document.getElementById("rotating-word");n&&setInterval(function(){n.style.opacity=0,setTimeout(function(){t=(t+1)%e.length,n.textContent=e[t],n.style.opacity=1},500)},3e3)}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".services-loop__video"),t=document.querySelectorAll(".services-loop__zone"),n=document.querySelectorAll(".dashboard-tile"),o=document.querySelector(".dashboard-grid"),r=`${window.REVOLT_THEME_URL}/assets/data/hud_coords.json`;function s(){const e=o.offsetWidth,t=n[0].offsetWidth+32,r=Math.floor(e/t),s=n.length,i=s%r||r;if(n.forEach(e=>e.classList.remove("last-row")),i<r){for(let e=s-i;e<s;e++)n[e].classList.add("last-row")}}fetch(r).then(e=>{if(!e.ok)throw new Error(`HUD JSON failed (${e.status})`);return e.json()}).then(n=>{const o={handlebars:"HUD_Handlebars",rear:"HUD_RearAxle",front:"HUD_FrontAxle",engine:"HUD_Engine",exhaust:"HUD_Exhaust"};requestAnimationFrame(function r(){const s=e.currentTime,i=Math.floor(24*s),a=n[i.toString()];a&&t.forEach(e=>{const t=e.dataset.zone,n=a[o[t]];n&&(e.style.left=100*n.x+"%",e.style.top=100*n.y+"%",e.style.transform="translate(-50%, -50%)")}),requestAnimationFrame(r)})}).catch(e=>{console.error("âŒ HUD JSON load failed:",e)}),t.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.zone;var o;o=t,n.forEach(e=>{if(e.dataset.zone===o){e.classList.toggle("active");const t=e.getBoundingClientRect().top+window.pageYOffset,n=.5*window.innerHeight;window.scrollTo({top:t-n,behavior:"smooth"})}else e.classList.remove("active")})})}),n.forEach(e=>{e.addEventListener("click",()=>{const t=e.classList.contains("active"),o=e.getAttribute("data-redirect");if(window.innerWidth<=768){if(t&&o)return void(window.location.href=o);{n.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.getBoundingClientRect().top+window.pageYOffset,o=.5*window.innerHeight;window.scrollTo({top:t-o,behavior:"smooth"})}}else o&&(window.location.href=o)})}),window.addEventListener("resize",s),s()}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("solution-builder-modal");if(!e)return;function t(){e.classList.add("tw-hidden"),e.classList.remove("tw-flex"),document.body.style.overflow=""}document.querySelectorAll('[data-modal-target="solution-builder-modal"]').forEach(t=>{t.addEventListener("click",t=>{t.preventDefault(),e.classList.remove("tw-hidden"),e.classList.add("tw-flex"),document.body.style.overflow="hidden",n=1,e.querySelectorAll('input[type="radio"]').forEach(e=>{e.checked="wordpress"===e.value}),e.querySelectorAll("#feature-inputs input, #service-inputs input").forEach(e=>{e.checked=!1}),h.classList.add("tw-hidden"),p.reset(),g(),f(),v()})}),e.querySelectorAll('[data-modal-hide="solution-builder-modal"]').forEach(e=>{e.addEventListener("click",t)}),e.addEventListener("click",n=>{n.target===e&&t()}),document.addEventListener("keydown",n=>{"Escape"!==n.key||e.classList.contains("tw-hidden")||t()});let n=1;const o=4,r={base:{landing:800,simple:1500,wordpress:2500,ecommerce:4e3},features:{forms:150,blog:300,newsletter:100,gallery:250,booking:350,membership:500,crm:300,"analytics-setup":150,chat:100},services:{hosting:29,maintenance:99,seo:199,content:149,social:299,support:149}},s={base:{landing:{icon:"ðŸš€",name:"Landing Page"},simple:{icon:"ðŸ“„",name:"Simple Site"},wordpress:{icon:"ðŸŒ",name:"Full Website"},ecommerce:{icon:"ðŸ›’",name:"E-commerce"}}},i={landing:{features:["forms","newsletter","analytics-setup"],services:["hosting","seo"]},simple:{features:["forms","blog","newsletter"],services:["hosting","maintenance","seo"]},wordpress:{features:["forms","blog","gallery","analytics-setup"],services:["hosting","maintenance","seo"]},ecommerce:{features:["forms","newsletter","analytics-setup","chat"],services:["hosting","maintenance","seo","support"]}},a=e.querySelectorAll(".step-content"),l=[1,2,3,4].map(t=>e.querySelector(`#dot-${t}`)),c=[1,2,3].map(t=>e.querySelector(`#line-${t}`)),d=e.querySelector("#btn-next"),u=e.querySelector("#btn-back"),m=e.querySelector("#btn-submit"),h=e.querySelector("#success-message"),p=e.querySelector("#solution-builder-form");function y(){e.querySelectorAll(".base-option").forEach(e=>{const t=e.querySelector("input"),n=e.querySelector("div"),o=n.querySelector("span:first-child");t.checked?(n.classList.remove("tw-border-gray-200"),n.classList.add("tw-border-revolt-yellow","tw-bg-yellow-50"),o.style.display="flex"):(n.classList.add("tw-border-gray-200"),n.classList.remove("tw-border-revolt-yellow","tw-bg-yellow-50"),o.style.display="none")})}function w(e,t,n,o){const r=e.dataset.icon,s=e.dataset.label,i=e.value,a=e.checked,l=document.createElement("div");l.className="option-card tw-cursor-pointer "+(n?"":"tw-pointer-events-none"),l.dataset.value=i;const c=a?"tw-border-revolt-yellow":"tw-border-gray-200 hover:tw-border-gray-300",d=a?"tw-bg-yellow-50":"",u=n?"":"tw-opacity-40";return l.innerHTML=`\n      <div class="tw-relative tw-flex tw-flex-col tw-items-center tw-p-4 tw-border-2 tw-rounded-lg tw-transition-all ${c} ${d} ${u}">\n        <span class="check-mark tw-absolute tw-top-2 tw-right-2 tw-w-5 tw-h-5 tw-bg-revolt-yellow tw-rounded-full tw-items-center tw-justify-center tw-text-xs tw-font-bold" style="display: ${a?"flex":"none"}">âœ“</span>\n        <span class="rec-badge tw-absolute tw--top-2 tw--right-2 tw-bg-revolt-yellow tw-text-black tw-text-[10px] tw-px-2 tw-py-0.5 tw-rounded-full tw-font-bold" style="display: ${t&&n&&!a?"block":"none"}">â˜…</span>\n        <span class="tw-text-3xl tw-mb-2">${r}</span>\n        <span class="tw-font-medium tw-text-sm tw-text-black">${s}</span>\n      </div>\n    `,l.addEventListener("click",()=>{n&&(e.checked=!e.checked,"features"===o?g():f())}),l}function g(){const t=e.querySelector('input[name="base_type"]:checked')?.value||"wordpress",n=i[t].features,o=e.querySelectorAll("#feature-inputs input"),r=e.querySelector("#features-recommended-grid"),s=e.querySelector("#features-available-grid"),a=e.querySelector("#features-unavailable-grid"),l=e.querySelector("#features-unavailable");r.innerHTML="",s.innerHTML="",a.innerHTML="";let c=!1,d=!1,u=!1;o.forEach(e=>{const o=(e.dataset.available?.split(",")||[]).includes(t),i=n.includes(e.value),l=w(e,i,o,"features");o?i?(r.appendChild(l),c=!0):(s.appendChild(l),d=!0):(a.appendChild(l),u=!0)}),e.querySelector("#features-recommended").classList.toggle("tw-hidden",!c),e.querySelector("#features-available").classList.toggle("tw-hidden",!d),l.classList.toggle("tw-hidden",!u)}function f(){const t=e.querySelector('input[name="base_type"]:checked')?.value||"wordpress",n=i[t].services,o=e.querySelectorAll("#service-inputs input"),r=e.querySelector("#services-recommended-grid"),s=e.querySelector("#services-available-grid"),a=e.querySelector("#services-unavailable-grid"),l=e.querySelector("#services-unavailable");r.innerHTML="",s.innerHTML="",a.innerHTML="";let c=!1,d=!1,u=!1;o.forEach(e=>{const o=(e.dataset.available?.split(",")||[]).includes(t),i=n.includes(e.value),l=w(e,i,o,"services");o?i?(r.appendChild(l),c=!0):(s.appendChild(l),d=!0):(a.appendChild(l),u=!0)}),e.querySelector("#services-recommended").classList.toggle("tw-hidden",!c),e.querySelector("#services-available").classList.toggle("tw-hidden",!d),l.classList.toggle("tw-hidden",!u)}function v(){a.forEach((e,t)=>{e.classList.toggle("tw-hidden",t+1!==n),e.classList.toggle("tw-block",t+1===n)}),l.forEach((e,t)=>{e.classList.toggle("tw-bg-revolt-yellow",t+1<=n),e.classList.toggle("tw-bg-gray-300",t+1>n)}),c.forEach((e,t)=>{e.classList.toggle("tw-bg-revolt-yellow",t+1<n),e.classList.toggle("tw-bg-gray-300",t+1>=n)}),u.classList.toggle("tw-hidden",1===n),d.classList.toggle("tw-hidden",n===o),m.classList.toggle("tw-hidden",n!==o),2===n&&g(),3===n&&f(),4===n&&function(){const t=b(),n=E(),o=s.base[t.base];e.querySelector("#summary-base-icon").textContent=o.icon,e.querySelector("#summary-base-name").textContent=o.name;const r=e.querySelector("#summary-features"),i=e.querySelectorAll("#feature-inputs input"),a={};i.forEach(e=>a[e.value]={icon:e.dataset.icon,label:e.dataset.label}),r.innerHTML=t.features.length>0?t.features.map(e=>`<span class="tw-inline-flex tw-items-center tw-gap-1 tw-px-3 tw-py-1 tw-bg-white tw-border tw-border-gray-200 tw-rounded-full tw-text-xs"><span>${a[e]?.icon}</span> ${a[e]?.label}</span>`).join(""):'<span class="tw-text-xs tw-text-gray-400">No extra features</span>';const l=e.querySelector("#summary-services"),c=e.querySelectorAll("#service-inputs input"),d={};c.forEach(e=>d[e.value]={icon:e.dataset.icon,label:e.dataset.label}),l.innerHTML=t.services.length>0?t.services.map(e=>`<span class="tw-inline-flex tw-items-center tw-gap-1 tw-px-3 tw-py-1 tw-bg-revolt-yellow/20 tw-border tw-border-revolt-yellow tw-rounded-full tw-text-xs"><span>${d[e]?.icon}</span> ${d[e]?.label}</span>`).join(""):'<span class="tw-text-xs tw-text-gray-400">No monthly services</span>',e.querySelector("#price-total").textContent=`$${n.total.toLocaleString()}`;const u=e.querySelector("#monthly-row");n.monthlyTotal>0?(u.classList.remove("tw-hidden"),u.classList.add("tw-flex"),e.querySelector("#price-monthly").textContent=`$${n.monthlyTotal}/mo`):u.classList.add("tw-hidden")}()}function b(){return{base:e.querySelector('input[name="base_type"]:checked')?.value||"wordpress",features:Array.from(e.querySelectorAll("#feature-inputs input:checked")).map(e=>e.value),services:Array.from(e.querySelectorAll("#service-inputs input:checked")).map(e=>e.value)}}function E(){const e=b(),t=r.base[e.base]||0,n=e.features.reduce((e,t)=>e+(r.features[t]||0),0);return{basePrice:t,featuresTotal:n,monthlyTotal:e.services.reduce((e,t)=>e+(r.services[t]||0),0),total:t+n}}d.addEventListener("click",()=>{n<o&&(n++,v())}),u.addEventListener("click",()=>{n>1&&(n--,v())}),m.addEventListener("click",async function(){const t=p.querySelector('input[name="name"]'),n=p.querySelector('input[name="email"]');if(!t.value.trim()||!n.value.trim())return t.reportValidity(),void n.reportValidity();const o=b(),r=E(),i=s.base[o.base],a=e.querySelectorAll("#feature-inputs input"),l={};a.forEach(e=>l[e.value]=e.dataset.label);const c=e.querySelectorAll("#service-inputs input"),d={};c.forEach(e=>d[e.value]=e.dataset.label),p.querySelector("#form-configuration").value=JSON.stringify(o,null,2),p.querySelector("#form-total-price").value=`$${r.total} + $${r.monthlyTotal}/mo`;const u=new FormData(p),y=`\n== SOLUTION BUILDER REQUEST ==\n\nBASE: ${i.name}\nPROJECT COST: $${r.total}\n\nFEATURES:\n${o.features.length>0?o.features.map(e=>`  â€¢ ${l[e]}`).join("\n"):"  (none selected)"}\n\nMONTHLY SERVICES:\n${o.services.length>0?o.services.map(e=>`  â€¢ ${d[e]}`).join("\n"):"  (none selected)"}\n${r.monthlyTotal>0?`\nMONTHLY TOTAL: $${r.monthlyTotal}/mo`:""}\n\n---\nName: ${u.get("name")}\nEmail: ${u.get("email")}\nMessage: ${u.get("message")||"(none)"}\n    `;try{m.textContent="Sending...",m.disabled=!0;if(!(await fetch("https://formspree.io/f/mjkyzqvg",{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({name:u.get("name"),email:u.get("email"),message:y,_subject:`Solution Builder: ${i.name} - $${r.total}`})})).ok)throw new Error("Submission failed");h.classList.remove("tw-hidden")}catch(e){console.error("Submission error:",e),alert("There was an error. Please try again or contact us directly."),m.textContent="Get My Quote â†’",m.disabled=!1}}),e.querySelectorAll('input[name="base_type"]').forEach(e=>{e.addEventListener("change",()=>{y(),g(),f()})}),y(),g(),f(),v()}),document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("startHereForm"),t=document.getElementById("startHereResponse");e&&t&&e.addEventListener("submit",function(n){n.preventDefault();const o=new FormData(e);let r=`\nHi, Iâ€™m ${o.get("name")} and I ${o.get("action")} ${o.get("what")}.\n\nLately, Iâ€™ve been trying to ${o.get("trying")}, but I'm blocked by ${o.get("blocked")}.\n\nYou can reach me at ${o.get("email")}.\n      `;fetch("https://formspree.io/f/mrbprrpv",{method:"POST",headers:{Accept:"application/json"},body:new URLSearchParams({message:r,email:o.get("email")})}).then(n=>{n.ok?(e.style.display="none",t.style.display="block"):(t.innerHTML="<p>Sorry, there was an error submitting the form. Please try again.</p>",t.style.display="block")}).catch(e=>{console.error("Form submission error:",e),t.innerHTML="<p>Sorry, a network error occurred. Please try again.</p>",t.style.display="block"})})}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".expect-group").forEach(e=>{const t=e.querySelectorAll(".proof-item");new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("animate-in"),t.forEach((e,t)=>{setTimeout(()=>{e.style.opacity="1",e.style.transform="translateY(0)"},100*t)}))})},{threshold:.3}).observe(e),t.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(10px)",e.style.transition="opacity 0.3s ease, transform 0.3s ease"})})});